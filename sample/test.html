<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="nationality" content="korean" />
<meta name="language" content="ko" />
<meta name="content-language" content="kr" />
<title>복권</title>
<style>
html,body {height:100%}
body {margin:0; padding:0; font-family:"돋움", "굴림", Arial, sans-serif, verdana, AppleGothic; font-size:12px; color:#333}
* {margin:0; padding:0;}
select, textarea {border:1px solid #B7B6B6; background:#FFF; vertical-align:middle; font-size:1em}
strong,b {font-weight:bold}
img, fieldset {border:0}
select, input, li img, span#location img,td *,fieldset * {vertical-align:middle}
ul, li, ol {list-style-type : none}
hr {display:none}
a {color:#666; text-decoration:none}
a:hover{text-decoration:none}
a:link, a:visited, a:active, a:hover {color:#444}
td * {vertical-align:middle}

.slide-screen {}
.slide-screen li {}
.slide-navigation * {display:inline}
</style>
<script type="text/javascript" src="/jui/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="/jui/jQuery.fn.jui.js"></script>
<script>
(function ($) {
var ns = $.fn.nsjui;



var slide	= $.fn[ns].slide = function (settings) {
	var tarNode		= this,
		jui			= $.fn[ns],
		slide		= jui.slide,
		blankFnc	= jui.blankFnc,
		settings	= $.extend({
			'node'				: this,
			'slideDirection'	: 'horizon',
			'slideAuto'			: true,
			'slideInterval'		: 2500,
			'slideSpeed'		: 'past',
			'slides'			: $(),
			'slideNavigation'	: $(),
			'prevButton'		: $(),
			'nextButton'		: $(),
			'playButton'		: $(),
			'stopButton'		: $(),
			'toggleButton'		: $(),
			'slides'			: this.find('>*'),
			'playTimer'			: null,
			'isPlay'			: false,
			'isBusy'			: false,
			'isPause'			: false,
			'show'				: blankFnc,
			'prev'				: blankFnc,
			'next'				: blankFnc,
			'play'				: blankFnc,
			'stop'				: blankFnc,
			'pause'				: blankFnc,
			'resume'			: blankFnc
		}, settings),
		slides		= settings.slides;

	this.data('slide.settings', settings);

	$(window).load(function () {
		var fstNode	= slides.first();

		slides
			.css({
				position	: 'absolute',
				display		: 'none',
			})
			.hide()
			.each(function (idx, itmNode) {
				$(itmNode).data('slide.itemIndex', idx);
			});

		fstNode.show();

		tarNode.css({
			overflow	: 'hidden',
			position	: 'relative',
			display		: 'block',
			width		: fstNode.width(),
			height		: fstNode.height()
		});
	});


	slides.delegate('*', 'focus mouseover', settings, slide.pause);
	slides.delegate('*', 'blur mouseout', settings, slide.resume);

	slide.setNavigationHandler.call(settings);
	slide.setButtonHandler.call(settings);


	if (settings.slideAuto) {
		slide.play.call(settings);
		settings.play.call(this, settings);
	}

	return this;
};


slide.setNavigationHandler	= function () {
	var settings	= this;

	settings.slideNavigation
		.click(settings, slide.showIndex)
		.each(function (idx, navNode) {
			$(navNode).data('slide.nxtIndex', idx);
		});
};

slide.setButtonHandler	= function () {
	var settings	= this;

	settings.prevButton.click(settings, slide.showPrev);
	settings.nextButton.click(settings, slide.showNext);
	settings.playButton.click(settings, slide.play);
	settings.stopButton.click(settings, slide.stop);
	settings.toggleButton.click(settings, slide.toggle);
};

slide.pause	= function (event) {
	var settings	= event ? event.data : this;

	if (settings.isPause) return;
	settings.isPause	= true;
	clearTimeout(settings.playTimer);

	if (event) {
		settings.pause.call(settings.node, settings);
	}
};

slide.resume = function (event) {
	var settings	= event ? event.data : this;

	if (!settings.isPause) return;
	if (settings.isPlay) {
		slide.play.call(settings);
	}
	settings.isPause	= false;

	if (event) {
		settings.resume.call(settings.node, settings);
	}
};

slide.play	= function (event) {
	var settings	= event ? event.data : this;

	settings.isPlay	= true;
	clearTimeout(settings.playTimer);
	settings.playTimer	= setTimeout(function () {
		slide.showNext.call(settings);
		if (!settings.isPause) {
			slide.play.call(settings);
		}
	}, settings.slideInterval);

	if (event) {
		settings.play.call(settings.node, settings);
	}
};

slide.stop	= function (event) {
	var settings	= event ? event.data : this;

	clearTimeout(settings.playTimer);
	settings.isPlay	= false;

	if (event) {
		settings.stop.call(settings.node, settings);
	}
};

slide.toggle	= function (event) {
	var settings	= event ? event.data : this;

	if (settings.isPlay) {
		slide.stop(event);
	}
	else {
		slide.play(event);
	}
};

slide.showIndex	= function (event) {
	var settings	= event ? event.data : this;

	slide.show.call(settings, $(event.target).data('slide.nxtIndex'));
};

slide.showPrev	= function (event) {
	var settings	= event ? event.data : this;

	slide.show.call(settings, 'prev');
};

slide.showNext	= function (event) {
	var settings	= event ? event.data : this;

	slide.show.call(settings, 'next');
};

slide.show	= function (nxtIndex) {
	var settings	= this;
	var node		= settings.node;

	if (settings.isBusy) return false;
	settings.isBusy	= true;
	slide.pause.call(settings);

	var actInfo		= slide.getItemNodeInfo.call(settings, nxtIndex),
		slides	= actInfo.slides,
		curNode		= actInfo.curNode,
		nxtNode		= actInfo.nxtNode,
		aniOption	= slide.getAnimateOption.call(settings, curNode, nxtNode, nxtIndex);

	slides.css({'z-index' : '0'});
	nxtNode.css(aniOption.curCSS).show();

	curNode.addClass('slide-ani');
	nxtNode.addClass('slide-ani');
	slides.filter('.slide-ani').animate(aniOption.nxtCSS, settings.slideSpeed);

	nxtNode.queue(function () {
		node.removeClass('slide-ani');
		curNode.hide();
		settings.isBusy	= false;
		slide.resume.call(settings);

		if (settings[nxtIndex]) {
			settings[nxtIndex].call(node, settings);
		}
		else {
			settings.show.call(node, settings);
		}

		$.dequeue(this);
	});
};

slide.getAnimateOption	= function (curNode, nxtNode, nxtIndex) {
	var settings	= this,
		direction	= settings.slideDirection,
		position	= direction == 'vertical' ? 'top' : 'left',
		distance	= direction == 'vertical' ? nxtNode.height() : nxtNode.width(),
		curCSS		= {'z-index' : '1'},
		nxtCSS		= {},
		mark;

	switch (nxtIndex) {
	case 'next' :
		mark	= 1;
	break;
	case 'prev' :
		mark	= -1;
	break;
	default :
		mark	= curNode.data('slide.itemIndex') > nxtNode.data('slide.itemIndex') ? -1 : 1;
	break;
	}

	curCSS[position] = distance*mark;
	nxtCSS[position] = (mark == 1 ? '-=' : '+=')+distance;

	return {
		'curCSS' : curCSS,
		'nxtCSS' : nxtCSS
	};
};

slide.getItemNodeInfo	= function (nxtIndex) {
	var settings	= this,
		slides	= settings.slides,
		curNode		= slides.filter(':visible'),
		nxtIndex	= typeof nxtIndex == 'undefined' ? 'next' : nxtIndex,
		nxtNode;

	switch (nxtIndex) {
	case 'next' :
		nxtNode	= curNode.next().size() ? curNode.next() : slides.first();
	break;
	case 'prev' :
		nxtNode	= curNode.prev().size() ? curNode.prev() : slides.last();
	break;
	default :
		nxtNode	= slides.eq(nxtIndex);
	break;
	}

	return {
		'slides': slides,
		'curNode' : curNode,
		'nxtNode' : nxtNode
	};
};



})(jQuery);


$(function () {
	$('.slide-screen').jui('slide', {
		slideDirection	: 'horizon', //vertical,horizon
		slideAuto		: true,
		slideInterval	: 3500,
		slideSpeed		: 'past',
//		slides			: $('.slide-screen > li'),
		slideNavigation	: $('.slide-navigation > li > a'),
		playButton		: $('.slide-play'),
		stopButton		: $('.slide-stop'),
		prevButton		: $('.slide-prev'),
		nextButton		: $('.slide-next'),
		toggleButton	: $('.slide-toggle'),

		show			: function (settings) {
			console.log('show');
		},
		prev		: function (settings) {
			console.log('prev');
		},
		next		: function (settings) {
			console.log('next');
		},
		play			: function (settings) {
			console.log('play');
			settings.playButton.attr('disabled', true);
			settings.stopButton.attr('disabled', false);
			settings.toggleButton.html('정지(토글)');
		},
		stop			: function (settings) {
			console.log('stop');
			settings.playButton.attr('disabled', false);
			settings.stopButton.attr('disabled', true);
			settings.toggleButton.html('시작(토글)');
		},
		pause			: function (settings) {
			console.log('pause');
		},
		resume			: function (settings) {
			console.log('resume');
		}
	});
});
</script>
</head>
<body>

<ul class="slide-screen">
	<li id="slide1"><a href="http://naver.com"><img src="test/popup01.jpg" /></a></li>
	<li id="slide2"><a href="http://naver.com"><img src="test/popup02.jpg" /></a></li>
	<li id="slide3"><a href="http://naver.com"><img src="test/popup03.jpg" /></a></li>
	<li id="slide4"><a href="http://naver.com"><img src="test/popup04.jpg" /></a></li>
	<li id="slide5"><a href="http://naver.com"><img src="test/popup05.jpg" /></a></li>
	<li id="slide6"><a href="http://naver.com"><img src="test/popup06.jpg" /></a></li>
</ul>
<ul class="slide-navigation">
	<li><a href="#slide1" />슬라이드1</a></li>
	<li><a href="#slide2" />슬라이드2</a></li>
	<li><a href="#slide3" />슬라이드3</a></li>
	<li><a href="#slide4" />슬라이드4</a></li>
	<li><a href="#slide5" />슬라이드5</a></li>
	<li><a href="#slide6" />슬라이드6</a></li>
</ul>
<button type="button" class="slide-prev">이전</button>
<button type="button" class="slide-next">다음</button>
<button type="button" class="slide-play">시작</button>
<button type="button" class="slide-stop">정지</button>
<button type="button" class="slide-toggle">정지(토글)</button>
</body>
</html>